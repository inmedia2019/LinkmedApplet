(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"06d3":function(e,t,n){e.exports=n.p+"static/img/logo2.5e9a0934.png"},"10b7":function(e,t,n){"use strict";n.r(t);var i=n("c3b2"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},"282b":function(e,t,n){"use strict";n.r(t);var i=n("8cb9"),o=n("10b7");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);var r,u=n("f0c5"),s=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"68aab107",null,!1,i["a"],r);t["default"]=s.exports},"8cb9":function(e,t,n){"use strict";var i,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:" animated fadeIn fast bF5F6FA dn"},[i("v-uni-view",{staticStyle:{height:"90px"}}),i("v-uni-view",{staticClass:"center"},[i("v-uni-image",{staticStyle:{width:"100px"},attrs:{src:n("06d3"),mode:"widthFix"}})],1),i("v-uni-view",{staticStyle:{height:"90px"}}),i("v-uni-view",{staticClass:"center"},[i("v-uni-button",{staticStyle:{width:"80%",border:"none",background:"rgba(185,39,39,1)"},attrs:{type:"default","open-type":"getUserInfo"},on:{getuserinfo:function(t){arguments[0]=t=e.$handleEvent(t),e.mpGetuserinfo.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cfff f17"},[e._v("微信登录")])],1)],1),i("v-uni-view",{staticStyle:{height:"30px"}}),i("v-uni-view",{staticClass:"center "},[i("v-uni-view",{staticClass:"cfff f17 center",staticStyle:{"font-size":"18px",height:"46px","border-radius":"5px",background:"#CCC",width:"80%",border:"none"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onfh.apply(void 0,arguments)}}},[e._v("退出")])],1)],1)},a=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},b6802:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},c3b2:function(e,t,n){"use strict";var i=n("ee27");n("ac1f"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("d0af")),a={data:function(){return{oid:"",src:""}},onLoad:function(e){this.oid=e.oid},onShow:function(){var e=this.$conFig.issign("false","pages/login/login",this.oid);console.log("////"),e&&setTimeout((function(){uni.reLaunch({url:"../my/my"})}),1e3)},methods:{mpGetuserinfo:function(e){var t=this;"getUserInfo:ok"==e.detail.errMsg&&uni.login({provider:"weixin",success:function(n){var i=n.code,a=e.detail.userInfo;t.$conFig.alert_Load(),t.$reqUest.get("inmedia","/linyimaiapi.ashx?Method=authorize",{js_code:i}).then((function(e){var n=(0,o.default)(e,2),i=(n[0],n[1]);console.log(i);i=JSON.parse(i.data.message);""!=i.openid&&(a.openid=i.openid,a.unionid=i.unionid,a.session_key=i.session_key,uni.setStorage({key:"_wxuserInfo",data:a}),t.$reqUest.get("linkmed","/linkmed2020/userinfo",{unionid:uni.getStorageSync("_wxuserInfo").unionid}).then((function(e){var n=(0,o.default)(e,2),i=(n[0],n[1]);if(1e5==i.data.code){var r=i.data.result[0];"its.jnj.com"==r.mail.split("@")[1]?t.onnbyg(r.mail.split("@")[0],a):t.onwbyh(a,r)}else uni.request({url:t.$conFig.inmediaunion+"?unionId="+uni.getStorageSync("_wxuserInfo").unionid,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){var n=e.data;"false"==e.data.result?uni.redirectTo({url:"../sign/sign?phone=''"}):"0"==e.data.isInSideMember?(console.log(e.data.phone),console.log("////"),t.$reqUest.get("linkmed","/linkmed2020/userinfo",{phone:e.data.phone}).then((function(e){var i=(0,o.default)(e,2),r=(i[0],i[1]);if(1e5==r.data.code){var u=r.data.result[0];console.log(u),null==u.name||""==u.name||""==u.hospital||""==u.category||""==u.position?uni.redirectTo({url:"../sign/sign?phone="+n.phone}):t.$reqUest.post("linkmed","/linkmed2020/userinfo",{phone:u.mobile,name:u.name,hospital:u.hospital,mail:u.mail,category:u.category,avatar:u.avatar,position:u.position,openid:uni.getStorageSync("_wxuserInfo").openid,unionid:uni.getStorageSync("_wxuserInfo").unionid}).then((function(e){var n=(0,o.default)(e,2);n[0],n[1];uni.setStorage({key:"userInfo",data:{uid:u.uid,type:u.type,mail:u.mail,mobile:u.mobile,name:u.name,category:u.category,hospital:u.hospital,position:u.position,openid:u.openid,unionid:u.unionid,autologin:u.autologin,expire:u.expire,avatar:u.avatar}}),uni.setStorage({key:"sign",data:uni.getStorageSync("sign")+"/true"}),uni.setStorage({key:"wxuserInfo",data:a}),uni.setStorage({key:"timeDepartment",data:{category:u.category}}),t.$conFig.ClassType(2),uni.reLaunch({url:uni.getStorageSync("timeUrl")})}))}else uni.redirectTo({url:"../sign/sign?phone="+n.phone})}))):t.onnbyg(n.trueName,a)}})})))}))}})},onfh:function(){uni.navigateBack({delta:1})},onwbyh:function(e,t){uni.setStorage({key:"userInfo",data:{uid:t.uid,type:t.type,mail:t.mail,mobile:t.mobile,name:t.name,category:t.category,hospital:t.hospital,position:t.position,openid:t.openid,unionid:t.unionid,autologin:t.autologin,expire:t.expire,avatar:t.avatar}}),uni.setStorage({key:"sign",data:uni.getStorageSync("sign")+"/true"}),uni.setStorage({key:"wxuserInfo",data:e}),uni.setStorage({key:"timeDepartment",data:{category:t.category}}),this.$conFig.ClassType(2),uni.reLaunch({url:uni.getStorageSync("timeUrl")})},onnbyg:function(e,t){uni.setStorage({key:"userInfo",data:{uid:"999999999",type:"",mail:"",mobile:"",name:e,category:uni.getStorageSync("timeDepartment").category,hospital:"强生",position:"",openid:uni.getStorageSync("_wxuserInfo").openid,unionid:uni.getStorageSync("_wxuserInfo").unionid,autologin:"",expire:"",avatar:this.$conFig.headsculpture,categoryid:uni.getStorageSync("timeDepartment").categoryid,categorynum:uni.getStorageSync("timeDepartment").categorynum,positionid:"",positionnum:""}}),uni.setStorage({key:"isInSideMember",data:1}),uni.setStorage({key:"wxuserInfo",data:t}),uni.setStorage({key:"sign",data:uni.getStorageSync("sign")+"/true"}),uni.reLaunch({url:uni.getStorageSync("timeUrl")})}}};t.default=a},d0af:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.r(t);n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function o(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,a=void 0;try{for(var r,u=e[Symbol.iterator]();!(i=(r=u.next()).done);i=!0)if(n.push(r.value),t&&n.length===t)break}catch(s){o=!0,a=s}finally{try{i||null==u["return"]||u["return"]()}finally{if(o)throw a}}return n}}var a=n("dde1");function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||o(e,t)||Object(a["a"])(e,t)||r()}n.d(t,"default",(function(){return u}))},dde1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3");var i=n("b6802");function o(e,t){if(e){if("string"===typeof e)return Object(i["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i["a"])(e,t):void 0}}}}]);