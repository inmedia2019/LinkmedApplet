{"version":3,"sources":["uni-app:///main.js","webpack:///F:/web/领医迈小程序/linkmedh5/pages/predetails/predetails.vue?a9c0","webpack:///F:/web/领医迈小程序/linkmedh5/pages/predetails/predetails.vue?1a76","webpack:///F:/web/领医迈小程序/linkmedh5/pages/predetails/predetails.vue?8c38","webpack:///F:/web/领医迈小程序/linkmedh5/pages/predetails/predetails.vue?0fee","uni-app:///pages/predetails/predetails.vue","webpack:///F:/web/领医迈小程序/linkmedh5/pages/predetails/predetails.vue?fef3","webpack:///F:/web/领医迈小程序/linkmedh5/pages/predetails/predetails.vue?fe38"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,2G;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAomB,CAAgB,8nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6FxnB;AACA;AACA,kBADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,mBADA;AAEA,gBAFA;AAGA,cAHA;AAIA,oBAJA;AAKA,mBALA;AAMA,kBANA;AAOA,iBAPA;AAQA,mBARA;AASA,kBATA;AAUA,cAVA;;AAYA,GAjBA;AAkBA,QAlBA,kBAkBA,CAlBA,EAkBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5BA;AA6BA,QA7BA,oBA6BA;AACA;AACA,GA/BA;AAgCA,mBAhCA,6BAgCA,GAhCA,EAgCA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,yEAFA;;AAIA,GAxCA;AAyCA;AACA,kBADA,0BACA,IADA,EACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA,yFADA;AAEA;;AAEA,OAhBA,CAgBA;AACA;AACA;;;AAGA,KAxBA,EAzCA;;AAmEA;;AAEA,UAFA,kBAEA,CAFA,EAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA;AACA;;AAEA,OA5BA,EA4BA,IA5BA;AA6BA,KAtCA;AAuCA,cAvCA,sBAuCA,IAvCA,EAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArDA;AAsDA,QAtDA,gBAsDA,CAtDA,EAsDA;AACA;AACA;AACA,gCADA;AAEA,UAFA,CAEA;AACA,YADA,KACA,KADA,YACA,GADA;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBADA,EACA,GADA;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAHA,EAGA,IAHA;;AAKA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAhCA;AAiCA,KAzFA;AA0FA,WA1FA,mBA0FA,CA1FA,EA0FA;;AAEA;;AAEA;AACA,yBADA;AAEA,6BAFA;AAGA,mCAHA;AAIA,qCAJA;AAKA,wBALA;AAMA,qCANA;AAOA,UAPA,CAOA;AACA,YADA,KACA,KADA,aACA,GADA;AAEA;AACA;AACA,OAXA;AAYA,KA1GA;AA2GA,YA3GA,sBA2GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sFADA;;AAGA,SARA,MAQA;AACA;AACA;AACA;AACA,OAdA,MAcA;AACA;AACA;AACA;AACA;AACA,sFADA;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,+BADA,EACA;AACA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,qBADA,mBACA,GADA,EACA;;AAEA,eAHA;;AAKA,WANA,MAMA;AACA;AACA,mCADA,EACA;AACA,qBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA,mEADA;AAEA,yFAFA;AAGA,oDAHA;AAIA,+CAJA;AAKA,oDALA;AAMA,sBANA,CAMA;AACA,wBADA,KACA,KADA,aACA,GADA;AAEA;AACA;AACA;AACA;AACA,mBAZA;AAaA,iBAfA,MAeA;AACA;AACA;AACA,eArBA;;AAuBA;AACA,SAlCA;;AAoCA,KApLA;AAqLA,YArLA,sBAqLA;AACA;AACA;AACA,uDADA;AAEA,gCAFA;AAGA,6EAHA;AAIA,wCAJA;AAKA,mCALA;AAMA,wCANA;AAOA,UAPA,CAOA;AACA,YADA,KACA,KADA,aACA,GADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FADA;;AAGA,WANA,EAMA,IANA;AAOA;AACA,OAtBA;AAuBA,KA9MA,EAnEA,E;;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAAs3B,CAAgB,u3BAAG,EAAC,C;;;;;;;;;;;ACA14B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/predetails/predetails.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/predetails/predetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./predetails.vue?vue&type=template&id=4d4511e6&\"\nvar renderjs\nimport script from \"./predetails.vue?vue&type=script&lang=js&\"\nexport * from \"./predetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./predetails.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/predetails/predetails.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./predetails.vue?vue&type=template&id=4d4511e6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"formatRichText\")(_vm.info.content)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./predetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./predetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"pf whtl\">\r\n\t\t<template v-if=\"issign\">\r\n\t\t\t<view class=\"pr animated fadeIn fast \">\r\n\t\t\t\t<scroll-view class=\"pf bfff\" scroll-y>\r\n\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t<view class=\"center\">\r\n\t\t\t\t\t\t\t<image class=\"w100\" :src=\"info.thumbnail.src\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"bodys cB92727 f16\" style=\"background: #F5F6FA;\">\r\n\t\t\t\t\t\t\t{{info.title}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"pr ovh\" style=\"background: #fff;\">\r\n\t\t\t\t\t\t\t<!-- <image class=\"w100 pa\" style=\"bottom: 0px; left: 0px;\" src=\"../../static/betgrbg2.png\" mode=\"widthFix\"></image> -->\r\n\t\t\t\t\t\t\t<view class=\"body f15 c4A4A4A pr z3\">\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"h10\"></view> -->\r\n\t\t\t\t\t\t\t\t<view class=\"ovh\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"fl\">\r\n\t\t\t\t\t\t\t\t\t\t直播时间\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"fr\">\r\n\t\t\t\t\t\t\t\t\t\t{{info.startTimes}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"h10\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"h2 bDEDDDE op7\"></view>\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"h15\"></view> -->\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"ovh\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"fl preimg\" v-bind:style=\"{ 'background': 'url('+info.headImg+') no-repeat center','background-size':'cover' }\">\r\n\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"fr pernr\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"f16\">{{info.expert}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"h5\"></view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"c999\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{info.expert_intro}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"body bfff\" style=\"padding-top: 0px;\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"info.content|formatRichText\"></rich-text>\r\n\t\t\t\t\t\t\t<!-- {{info.content}} -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\" bfff\" style=\"height: 17px;\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t<view class=\"pf prebutt center\">\r\n\t\t\t\t\t<view class=\"prenr1 center\">\r\n\t\t\t\t\t\t<view class=\"w100 ovh\">\r\n\t\t\t\t\t\t\t<view class=\"center fl c999 f12\">\r\n\t\t\t\t\t\t\t\t<view class=\"w15 h5\"></view>\r\n\t\t\t\t\t\t\t\t<view>#{{info.category}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"w15 h5\"></view>\r\n\t\t\t\t\t\t\t\t<view>|</view>\r\n\t\t\t\t\t\t\t\t<view class=\"w15 h5\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"f18 cD0021B\">{{info.reservationCount}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"w5 h5\"></view>\r\n\t\t\t\t\t\t\t\t<view>人已预约</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"prenr2 bbs center cfff\" @click=\"onResult\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<template v-if=\"countEnd>0\">\r\n\t\t\t\t\t\t\t\t<template v-if=\"countDown>0\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tec fb f16\">{{info.reservationState==\"未预约!\"?'点击预约':'尚未开播'}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"tec f10\">{{tiemtxt}}后开始</view>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t<view class=\"tec fb f16\">{{info.reservationState==\"未预约!\"?'点击预约':'点击进入'}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"tec f10\">已开始</view>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t<view class=\"tec fb f16\">课程已结束</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<reTurn>\r\n\t\t\t\r\n\t\t</reTurn>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport reTurn from '@/components/return/return.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\treTurn\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tissign: false,\r\n\t\t\t\tsearch:\"\",\r\n\t\t\t\tinfo: {},\r\n\t\t\t\tserverTime: \"\",\r\n\t\t\t\tcountDown: \"\",\r\n\t\t\t\tcountEnd: \"\",\r\n\t\t\t\ttiemtxt: \"\",\r\n\t\t\t\tresult: false,\r\n\t\t\t\tresultid: \"\",\r\n\t\t\t\tcode: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\t\r\n\t\t\tvar sign = this.$conFig.issign(e.share, 'pages/predetails/predetails?share=true&id=' + e.id,e.oid)\r\n\t\t\tif (sign) {\r\n\t\t\t\t//70452   71137\r\n\t\t\t\tthis.resultid = e.id\r\n\t\t\t\tconsole.log(this.resultid)\r\n\t\t\t\t//this.resultid = 70452\r\n\t\t\t\tthis.load()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.$conFig.onWeixin(\"领医迈\",\"　\",'/pages/predetails/predetails?share=true&id=' + this.resultid,\"s.jpg\")\r\n\t\t},\r\n\t\tonShareAppMessage(res) {\r\n\t\t\tif (res.from === 'button') { // 来自页面内分享按钮\r\n\t\t\t\tthis.userlog(6)\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.info.title,\r\n\t\t\t\tpath: '/pages/predetails/predetails?share=true&id=' + this.resultid\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tformatRichText(html) { //控制小程序中图片大小\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet newContent = html.replace(/<img[^>]*>/gi, function(match, capture) {\r\n\t\t\t\t\t\tmatch = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\r\n\t\t\t\t\t\tmatch = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\r\n\t\t\t\t\t\tmatch = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\r\n\t\t\t\t\t\treturn match;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewContent = newContent.replace(/style=\"[^\"]+\"/gi, function(match, capture) {\r\n\t\t\t\t\t\tmatch = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\r\n\t\t\t\t\t\treturn match;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewContent = newContent.replace(/<br[^>]*\\/>/gi, '');\r\n\t\t\t\t\tnewContent = newContent.replace(/\\<img/gi,\r\n\t\t\t\t\t\t'<img style=\"max-width:100%;height:auto;display:inline-block;margin:10rpx auto;\"');\r\n\t\t\t\t\treturn newContent;\r\n\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t//在这里处理错误\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\tsetTim(e) {\r\n\t\t\t\t//格式化时间\r\n\t\t\t\tfunction num(n) {\r\n\t\t\t\t\treturn n < 10 ? '0' + n : n;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//倒计时函数\r\n\t\t\t\tsetInterval(() => {\r\n\t\t\t\t\t//当前时间\r\n\t\t\t\t\tvar startTime = new Date();\r\n\t\t\t\t\t//结束时间\r\n\t\t\t\t\t//算出中间差，以毫秒数返回.\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.countDown = (this.info.startTime - startTime.getTime());\r\n\t\t\t\t\tthis.countEnd = (this.info.endTime - startTime.getTime())\r\n\r\n\t\t\t\t\t//获取天数\r\n\t\t\t\t\tvar oDay = parseInt(this.countDown / 1000 / 60 / 60 / 24);\r\n\t\t\t\t\t//获取小时数\r\n\t\t\t\t\tvar oHour = parseInt(this.countDown / 1000 / 60 / 60 % 24);\r\n\t\t\t\t\t//获取分钟数\r\n\t\t\t\t\tvar oMinute = parseInt(this.countDown / 1000 / 60 % 60);\r\n\t\t\t\t\t//获取秒数\r\n\t\t\t\t\tvar oSecond = parseInt(this.countDown / 1000 % 60);\r\n\t\t\t\t\t//获取标签\r\n\r\n\t\t\t\t\tif (oDay == 0) {\r\n\t\t\t\t\t\toDay = \"\"\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toDay = oDay + '天 '\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//输出时间\r\n\t\t\t\t\tthis.tiemtxt = oDay + num(oHour) + ':' + num(oMinute) + ':' + num(oSecond) + \" \";\r\n\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\tformatDate(date) {\r\n\t\t\t\tvar date = new Date();\r\n\t\t\t\tvar seperator = \"-\";\r\n\t\t\t\tvar year = date.getFullYear();\r\n\t\t\t\tvar month = date.getMonth() + 1;\r\n\t\t\t\tvar nowDate = date.getDate();\r\n\t\t\t\tif (month >= 1 && month <= 9) {\r\n\t\t\t\t\tmonth = \"0\" + month;\r\n\t\t\t\t}\r\n\t\t\t\tif (nowDate >= 0 && nowDate <= 9) {\r\n\t\t\t\t\tnowDate = \"0\" + nowDate;\r\n\t\t\t\t}\r\n\t\t\t\tvar newDate = year + seperator + month + seperator + nowDate;\r\n\t\t\t\treturn newDate;\r\n\t\t\t},\r\n\t\t\tload(e) {\r\n\t\t\t\tthis.$conFig.alert_Load()\r\n\t\t\t\tthis.$reqUest.get('inmedia', '/linyimaiapi.ashx?Method=markcheck', {\r\n\t\t\t\t\t\"classid\": this.resultid\r\n\t\t\t\t}).then(data => {\r\n\t\t\t\t\tvar [error, res] = data;\r\n\t\t\t\t\tthis.info = this.$conFig.newList(JSON.parse(res.data.message))[0]\r\n\r\n\r\n\t\t\t\t\tvar etime = this.info.endTime\r\n\t\t\t\t\tvar stime = this.info.startTime\r\n\t\t\t\t\tvar rtime = this.info.requestTime\r\n\r\n\t\t\t\t\tthis.info.appointment = this.info.appointment == \"\" ? 0 : this.info.appointment\r\n\r\n\t\t\t\t\tthis.info.endTime = etime.substring(etime.indexOf('/Date(') + 6, etime.length - 2)\r\n\t\t\t\t\tthis.info.startTime = stime.substring(stime.indexOf('/Date(') + 6, stime.length - 2)\r\n\t\t\t\t\tthis.info.startTimes = new Date(parseInt(this.info.startTime / 1000) * 1000).toLocaleString().replace(\r\n\t\t\t\t\t\t/:\\d{1,2}$/, ' ')\r\n\t\t\t\t\tthis.serverTime = rtime.substring(rtime.indexOf('/Date(') + 6, rtime.length - 2)\r\n\r\n\t\t\t\t\tconsole.log(this.info)\r\n\r\n\t\t\t\t\tthis.setTim()\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.issign = true\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}, 1000)\r\n\r\n\t\t\t\t\tif (this.search == true) {\r\n\t\t\t\t\t\tthis.userlog(2)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.userlog(1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tuserlog(e) {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(this.info.id,this.info.title,this.info.expert,e,this.info.expert_id)\r\n\t\t\t\t\r\n\t\t\t\tthis.$reqUest.userLog({\r\n\t\t\t\t\tClassType: \"课程直播\",\r\n\t\t\t\t\tClassId: this.info.id,\r\n\t\t\t\t\tClassTitle: this.info.title,\r\n\t\t\t\t\tClassAuthor: this.info.expert,\r\n\t\t\t\t\tOperationType: e,\r\n\t\t\t\t\tdoctorId: this.info.expert_id\r\n\t\t\t\t}).then(data => {\r\n\t\t\t\t\tvar [error, res] = data;\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tconsole.log(\"课程直播\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonResult() {\r\n\t\t\t\tconsole.log(\"////\")\r\n\t\t\t\tvar templateId = 'oDxpzlHK3qcsrdZxUY9w6FlWazzxrkOjXBfBEStGiS8'\r\n\t\t\t\tif (this.countEnd < 0) {\r\n\t\t\t\t\tthis.$conFig.alert_Tips('已结束，请预约其他课程！')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.info.reservationState != \"未预约!\") {\r\n\t\t\t\t\tconsole.log(\"1111\")\r\n\t\t\t\t\tif (this.countDown < 0) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(\"-----\")\r\n\t\t\t\t\t\twindow.location.href = this.info.link\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '../webview/webview?id=' + this.$base64.Base64.encode(this.info.link)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$conFig.alert_Tips('您已预约，请等待直播开始！')\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif (this.countDown < 0) {\r\n\t\t\t\t\t\twindow.location.href = this.info.link\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '../webview/webview?id=' + this.$base64.Base64.encode(this.info.link)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.savemark()\r\n\t\t\t\treturn\r\n\t\t\t\t\r\n\t\t\t\twx.getSetting({\r\n\t\t\t\t\twithSubscriptions: true,//是否获取用户订阅消息的订阅状态，默认false不返回\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.authSetting['scope.subscribeMessage']) {\r\n\t\t\t\t\t\t\tuni.openSetting({ // 打开设置页\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else { // 用户没有点击“总是保持以上，不再询问”则每次都会调起订阅消息\r\n\t\t\t\t\t\t\tuni.requestSubscribeMessage({\r\n\t\t\t\t\t\t\t\ttmplIds: [templateId], // \r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tif (res[templateId] == \"accept\") { // 字段就是tmplIds模板id\r\n\t\t\t\t\t\t\t\t\t\tthat.$conFig.alert_Load()\r\n\t\t\t\t\t\t\t\t\t\tthat.$reqUest.get('inmedia', '/linyimaiapi.ashx?Method=wechasubscription', {\r\n\t\t\t\t\t\t\t\t\t\t\t\"openid\": uni.getStorageSync('userInfo').openid,\r\n\t\t\t\t\t\t\t\t\t\t\t\"Page\": '/pages/predetails/predetails?share=true&id=' + that.resultid,\r\n\t\t\t\t\t\t\t\t\t\t\t\"QuestionLabel\": that.info.title,\r\n\t\t\t\t\t\t\t\t\t\t\t\"Time\": that.info.startTime,\r\n\t\t\t\t\t\t\t\t\t\t\t\"MainLecturer\":that.info.expert\r\n\t\t\t\t\t\t\t\t\t\t}).then(data => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar [error, res] = data;\r\n\t\t\t\t\t\t\t\t\t\t\tif(res.data.result==\"true\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.savemark()\r\n\t\t\t\t\t\t\t\t\t\t\t\t//that.$conFig.alert_Tips('您已成功订阅信息！')\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tthat.$conFig.alert_Tips('请允许接收订阅消息！')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsavemark(){\r\n\t\t\t\tvar that=this\r\n\t\t\t\tthis.$reqUest.get('inmedia', '/linyimaiapi.ashx?Method=wechasubscription', {\r\n\t\t\t\t\t\"openid\": uni.getStorageSync('userInfo').openid,\r\n\t\t\t\t\t\"classid\": this.resultid,\r\n\t\t\t\t\t\"Page\": '/pages/predetails/predetails?share=true&id=' + that.resultid,\r\n\t\t\t\t\t\"QuestionLabel\": that.info.title,\r\n\t\t\t\t\t\"Time\": that.info.startTime,\r\n\t\t\t\t\t\"MainLecturer\":that.info.expert\r\n\t\t\t\t}).then(data => {\r\n\t\t\t\t\tvar [error, res] = data;\r\n\t\t\t\t\tthis.info.reservationCount++\r\n\t\t\t\t\tthis.info.reservationState = \"已预约!\"\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthis.$conFig.alert_Tips('预约成功！')\r\n\t\t\t\t\tif (this.countDown < 0) {\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\twindow.location.href = this.info.link\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../webview/webview?id=' + this.$base64.Base64.encode(this.info.link)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tscroll-view {\r\n\t\ttop: 0px;\r\n\t\tleft: 0px;\r\n\t\tbottom: 64px;\r\n\t\tright: 0px;\r\n\t}\r\n\r\n\t.preimg {\r\n\t\twidth: 51px;\r\n\t\theight: 51px;\r\n\t\tborder-radius: 50px;\r\n\t}\r\n\r\n\t.pernr {\r\n\t\twidth: calc(100% - 65px);\r\n\t}\r\n\r\n\t.prebutt {\r\n\t\theight: 64px;\r\n\t\tbackground: #313131;\r\n\t\tbottom: 0px;\r\n\t\tleft: 0px;\r\n\t\twidth: 100%;\r\n\t\tbox-shadow: 0px -5px 20px 0px rgba(0, 0, 0, 0.09);\r\n\t}\r\n\r\n\t.prenr1 {\r\n\t\twidth: calc(100% - 130px);\r\n\t\theight: 64px;\r\n\t}\r\n\r\n\t.prenr2 {\r\n\t\twidth: 130px;\r\n\t\theight: 64px;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./predetails.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./predetails.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594023149775\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}